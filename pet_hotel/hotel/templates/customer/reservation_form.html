{% extends "public_base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
<h2>{{ customer.name }} 님의 예약</h2>

<form method="post" action="{% url 'customer:reservation_submit' customer.token %}" novalidate
    class="needs-validation"
    id="reservationForm">
  {% csrf_token %}
<!-- 반려견 선택 -->
    <div class="mb-3">
      <label for="dogSelect" class="form-label">반려견 선택</label>
      <select class="form-select" id="dogSelect" name="dog_id" required>
        <option value="">강아지를 선택하세요</option>
        {% for dog in dogs %}
          <option value="{{ dog.id }}">{{ dog.name }} ({{ dog.breed }})</option>
        {% endfor %}
      </select>
      <div class="invalid-feedback">
        반려견을 선택해주세요.
      </div>
    </div>

    <!-- 입실/퇴실 날짜 -->
    <div class="row g-3 mb-3">
      <div class="col-md-6">
        <label for="checkIn" class="form-label">입실 날짜</label>
        <input
          type="date"
          class="form-control"
          id="checkIn"
          name="check_in"
          required
        >
        <div class="invalid-feedback">
          입실 날짜를 입력해주세요.
        </div>
      </div>
      <div class="col-md-6">
        <label for="checkOut" class="form-label">퇴실 날짜</label>
        <input
          type="date"
          class="form-control"
          id="checkOut"
          name="check_out"
          required
        >
        <div class="invalid-feedback">
          퇴실 날짜를 입력해주세요.
        </div>
      </div>
    </div>

    <!-- 요청사항 -->
    <div class="mb-4">
      <label for="notes" class="form-label">추가 요청사항</label>
      <textarea
        class="form-control"
        id="notes"
        name="notes"
        rows="3"
        placeholder="예) 알러지 주의, 특별 간식 요청 등"
      ></textarea>
    </div>

    <div class="d-grid">
      <button type="submit" class="btn btn-primary btn-lg">
        예약 완료
      </button>
    </div>
  </form>
</div>

{% endblock %}